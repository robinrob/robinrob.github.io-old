!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %meta{:charset => "utf-8"}/
    %title utf8.js test suite
    %link{:href => "../node_modules/qunitjs/qunit/qunit.css", :rel => "stylesheet"}/
  %body
    #qunit
    %script{:src => "../node_modules/qunitjs/qunit/qunit.js"}
    %script{:src => "../utf8.js"}
    :javascript
      // populate `QUnit.urlParams`
      QUnit.urlParams.norequire = /[?&]norequire=true(?:&|$)/.test(location.search);

      // load tests.js if not using require.js
      document.write(QUnit.urlParams.norequire
      	? '<script src="tests.js"><\/script>'
      	: '<script src="../node_modules/requirejs/require.js"><\/script>'
      );
    :javascript
      window.require && require({
      	'baseUrl': '../node_modules/requirejs/',
      	'urlArgs': 't=' + (+new Date),
      	'paths': {
      		'utf8': '../../utf8'
      	}
      },
      ['utf8'], function(utf8) {
      	require(['tests.js']);
      });
