<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta content=utf-8 name=content-type><meta content="text/html; charset=UTF-8" http-equiv=Content-Type><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width, initial-scale=1" name=viewport><meta content="Experienced freelance software developer designing and building custom web applications and integrations using modern cloud technologies and frameworks." name=description><meta content="Freelance developer, Edinburgh, mobile, web, AngularJS, PhoneGap, SEO, Heroku, AWS, Google Apps, JavaScript, Force.com, Salesforce" name=keywords><title>Fast Javascript Variable Debugging</title><link href=https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css rel=stylesheet type=text/css><link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel=stylesheet type=text/css><link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel=stylesheet type=text/css><link href=/css/styles.css rel=stylesheet><link href=/img/favicon.gif rel=icon type=image/gif><link href=https://rsmith.io/blog/console-log-json-stringify rel=canonical></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button class=navbar-toggle data-target=#bs-example-navbar-collapse-1 data-toggle=collapse type=button><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href=/#services>Services</a></li><li><a href=/#projects>Projects</a></li><li><a href=/#endorsements>Endorsements</a></li><li><a href=/contact>Contact</a></li><li><a href=/blog>Blog</a></li></ul></div></div></nav><header class=intro-header><div class="container post-heading"><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><h1>Fast Javascript Variable Debugging</h1><h2 class=subheading>Useful code snippet to help with fast debugging</h2></div></div></div></header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=main><div class=blog><article><p>Note: when debugging Javascript in the browser, it&#39;s usually best to just use the Chrome dev tools for this!</p><p>Besides using a browser&#39;s dev tools whilst debugging Javascript, you still may find yourself needing to quickly print the contents of an object out to the console. You may be writing a short Node script in a text editor for example. Printing out the contents of an object involves typing something like the following - for example to display the contents of the object referenced by variable <code>myVar</code>:</p><pre><code class=javascript>console.log('myVar: ' + JSON.stringify(myVar, null, '\t'))</code></pre><p>This is a pretty unwieldy line and when debugging an unfamiliar piece of code you could waste a lot of time typing or even copy-pasting this and subsequently modifying it.</p><p>Since I use the command-line and my ZSH environment as a swiss-army knife in all that I do, I wrote a quick little shell function to do the work of constructing the above useful snippet:</p><pre><code class=zsh>function console_log_json () {
    local +r Variable=$1
    
    copy_print "console.log('$Variable: ' + JSON.stringify($Variable, null, '\  '))"
}
</code></pre><p>Where <code>copy_print</code> is the following shell function (requires <code>pbcopy</code> and <code>pbpaste</code> programs):</p><pre><code class=zsh>function copy_print () {
    # printf is necessary here because print does not print a string containing only
    # the character '-', no matter how many times the string contains it.
    printf $@ | pbcopy && pbpaste
}
</code></pre><p>The workflow goes like this:</p><ol><li>See a variable that you&#39;d really like to check the contents of when you run your app, e.g. <code>myVar</code></li><li>Switch focus to the terminal (I use a hot-key: cmd + caps-lock)</li><li>Type <code>console_log_json</code> (or alias of - i use <code>logj</code> for example) then name of variable: <code>logj myVar</code></li><li>Switch focus back to the editor and paste the snippet which should be in the clipboard: <code>console.log(&#39;myvar: &#39; + JSON.stringify(myvar, null, &#39;\t&#39;))</code></li></ol><p>This is pretty snappy when you need it! And can be made arbitrarily complex or &#39;pretty&#39; of course.</p><p>The point of this post is to demonstrate the fun of automating out repetetive actions that you may find yourself making, and the usefulness of the command-line plus shell environment in this.</p><hr><span class=post-meta>Posted by Robin Smith on August 25, 2015</span></article><hr><ul class=pager><li class=previous><a data-placement=top data-toggle=tooltip href=/blog/console-writer-jquery-plugin title="ConsoleWriter jQuery Plugin">&larr; Previous Post</a></li></ul></div></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=https://github.com/robinrob target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.linkedin.com/in/rsmithio target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=mailto:robin@rsmith.io target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright Â© Robin Smith 2015</p></div></div></div></footer><script src=/js/scripts.js></script></body></html>